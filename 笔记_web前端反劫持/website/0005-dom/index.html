<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>dom 劫持测试页</title>
</head>
<body>
    <h1>dom 劫持测试页</h1>

    <hr>

    <h3>iframe</h3>
    <iframe src="/dom/static/iframe.html"></iframe>
    <iframe src="http://127.0.0.1:8903/dom/static/iframe.html"></iframe>
    <iframe src="http://localhost:8903/dom/static/iframe.html"></iframe>
    <iframe src="http://127.0.0.1:8903/dom/static/iframe.html" style="background:url(http://localhost:8903/dom/static/photo.png)"></iframe>
    <style>
        #ele-0001 {background:url(http://localhost:8903/dom/static/photo.png)}
    </style>
    <iframe src="http://127.0.0.1:8903/dom/static/iframe.html" id="ele-0001"></iframe>

    <hr>

    <h3>img</h3>
    <img src="/dom/static/photo.png" alt="/dom/static/photo.png">
    <img src="http://127.0.0.1:8903/dom/static/photo.png" alt="http://127.0.0.1:8903/dom/static/photo.png">
    <img src="http://localhost:8903/dom/static/photo.png" alt="http://localhost:8903/dom/static/photo.png">
    <img src="http://127.0.0.1:8903/dom/static/photo.png" style="background:url(http://localhost:8903/dom/static/photo.png)" alt="http://127.0.0.1:8903/dom/static/photo.png">
    <style>
        #ele-0002 {background:url(http://localhost:8903/dom/static/photo.png)}
    </style>
    <img src="http://127.0.0.1:8903/dom/static/photo.png" id="ele-0002" alt="http://127.0.0.1:8903/dom/static/photo.png">

    <hr>
    
    <h3>a</h3>
    <a href="/dom/static/photo.png">/dom/static/photo.png</a>
    <a href="http://127.0.0.1:8903/dom/static/photo.png">http://127.0.0.1:8903/dom/static/photo.png</a>
    <a href="http://localhost:8903/dom/static/photo.png">http://localhost:8903/dom/static/photo.png</a>
    <a href="http://127.0.0.1:8903/dom/static/photo.png" style="background:url(http://localhost:8903/dom/static/photo.png)">http://127.0.0.1:8903/dom/static/photo.png</a>
    <style>
        #ele-0003 {background:url(http://localhost:8903/dom/static/photo.png)}
    </style>
    <a href="http://127.0.0.1:8903/dom/static/photo.png" id="ele-0003">http://127.0.0.1:8903/dom/static/photo.png</a>

    <h3>a bind event【暂时无法防御】</h3>
    <a href="#" onclick="location.href='http://localhost:8903/dom/static/iframe.html'" id="tt-1">http://localhost:8903/dom/static/iframe.html</a>
    <a href="#" id="ele-4">http://localhost:8903/dom/static/iframe.html</a>
    <script>
        document.getElementById( 'ele-4' ).onclick = function() {
            location.href = 'http://localhost:8903/dom/static/iframe.html';
        };
    </script>
    
    <hr>
    
    <h3>script</h3>
    <script src="/dom/static/js.js"></script>
    <script src="http://127.0.0.1:8903/dom/static/js.js"></script>
    <script src="http://localhost:8903/dom/static/js.js"></script>
    <script>
        if ( document.getElementById( 'sui-bian-de' ) ) {
            document.getElementById( 'sui-bian-de' ).onclick = function() {
                location.href = 'http://localhost:8903/dom';
            };
        }
    </script>

    <hr>

    <h3>link</h3>
    <p id="sui-bian-de-0">sui-bian-de-0</p>
    <link href="/dom/static/css.css" rel="stylesheet" />
    <link href="http://127.0.0.1:8903/dom/static/css.css" rel="stylesheet" />
    <link href="http://localhost:8903/dom/static/css.css" rel="stylesheet" />

    <hr>
    
    <h3>style</h3>
    <p id="sui-bian-de-1">sui-bian-de-1</p>
    <style>
        #sui-bian-de-1 {background: url(photo.png)}
    </style>
    <p id="sui-bian-de-2">sui-bian-de-2</p>
    <style>
        #sui-bian-de-2 {background: url(/dom/static/photo.png)}
    </style>
    <p id="sui-bian-de-3">sui-bian-de-3</p>
    <style>
        #sui-bian-de-3 {background: url(http://127.0.0.1:8903/dom/static/photo.png)}
    </style>
    <p id="sui-bian-de-4">sui-bian-de-4</p>
    <style>
        #sui-bian-de-4 {background-image: url(http://localhost:8903/dom/static/photo.png)}
    </style>
    <p id="sui-bian-de-5">sui-bian-de-5</p>
    <style>
        #sui-bian-de-5 {list-style-image: url(http://localhost:8903/dom/static/photo.png)}
    </style>
    <p id="sui-bian-de-0">sui-bian-de-0</p>
    <style>
        @import url(http://localhost:8903/dom/static/css.css);
    </style>

    <hr>

    <h3>video / video + source</h3>
    <video src="/dom/static/iframe.html" controls width="100" height="50"></video>
    <video src="http://127.0.0.1:8903/dom/static/iframe.html" controls width="100" height="50"></video>
    <video src="http://localhost:8903/dom/static/iframe.html" controls width="100" height="50"></video>
    <video controls width="100" height="50">
        <source src="/dom/static/iframe.html">
    </video>
    <video controls width="100" height="50">
        <source src="http://127.0.0.1:8903/dom/static/iframe.html">
    </video>
    <video controls width="100" height="50">
        <source src="http://localhost:8903/dom/static/iframe.html">
    </video>

    <hr>
    
    <h3>audio / audio + source</h3>
    <audio src="/dom/static/iframe.html" controls width="100" height="50"></audio>
    <audio src="http://127.0.0.1:8903/dom/static/iframe.html" controls width="100" height="50"></audio>
    <audio src="http://localhost:8903/dom/static/iframe.html" controls width="100" height="50"></audio>
    <audio controls width="100" height="50">
        <source src="/dom/static/iframe.html">
    </audio>
    <audio controls width="100" height="50">
        <source src="http://127.0.0.1:8903/dom/static/iframe.html">
    </audio>
    <audio controls width="100" height="50">
        <source src="http://localhost:8903/dom/static/iframe.html">
    </audio>

    <hr>
    
    <h3>object / object + param</h3>
    <object data="/dom/static/iframe.html" width="300" height="50"></object>
    <object data="http://127.0.0.1:8903/dom/static/iframe.html" width="300" height="50"></object>
    <object data="http://localhost:8903/dom/static/iframe.html" width="300" height="50"></object>
    <object width="300" height="50">
        <param name="src" value="/dom/static/iframe.html">
    </object>
    <object width="300" height="50">
        <param name="src" value="http://127.0.0.1:8903/dom/static/iframe.html">
    </object>
    <object width="300" height="50">
        <param name="src" value="http://localhost:8903/dom/static/iframe.html">
    </object>

    <h3>embed / object + param + embed</h3>
    <embed src="/dom/static/iframe.html" type="text/html" />
    <embed src="http://127.0.0.1:8903/dom/static/iframe.html" type="text/html" />
    <embed src="http://localhost:8903/dom/static/iframe.html" type="text/html" />
    <object width="300" height="50">
        <param name="src" value="http://localhost:8903/dom/static/iframe.html">
        <embed src="http://localhost:8903/dom/static/iframe.html" type="text/html" />
    </object>

    <h3>area</h3>
    <img src="/dom/static/photo.png" width="200" height="50" alt="Planets" usemap="#planetmap">
    <map name="planetmap">
        <area shape="rect" coords="0,0,50,50" title="/dom/static/iframe.html" href="/dom/static/iframe.html">
        <area shape="rect" coords="50,0,100,50" title="http://127.0.0.1:8903/dom/static/iframe.html" href="http://127.0.0.1:8903/dom/static/iframe.html">
        <area shape="rect" coords="100,0,150,50" title="http://localhost:8903/dom/static/iframe.html" href="http://localhost:8903/dom/static/iframe.html">
    </map>

    <h3>base</h3>
    <base href="/dom/static/iframe.html">
    <base href="http://127.0.0.1:8903/dom/static/iframe.html">
    <base href="http://localhost:8903/dom/static/iframe.html">

    <h3>form</h3>
    <form action="/dom/static/iframe.html">
        <button type="submit">/dom/static/iframe.html</button>
    </form>
    <form action="http://127.0.0.1:8903/dom/static/iframe.html">
        <button type="submit">http://127.0.0.1:8903/dom/static/iframe.html</button>
    </form>
    <form action="http://localhost:8903/dom/static/iframe.html">
        <button type="submit">http://localhost:8903/dom/static/iframe.html</button>
    </form>
    
    <script src="/dom/static/hijack-defense.js"></script>
</body>
</html>